import streamlit as st
import json
from pathlib import Path

st.set_page_config(page_title="ìì£¼í•˜ëŠ” ì§ˆë¬¸", page_icon="ğŸ’¡", layout="wide")
st.title("ğŸ’¡ ìì£¼í•˜ëŠ” ì§ˆë¬¸ (FAQ)")

# --------------------------------------------------
# 1ï¸âƒ£ FAQ ë°ì´í„° ë¡œë”©
# --------------------------------------------------
faq_path = Path("faq.json")   # ì™¸ë¶€ íŒŒì¼ ì‚¬ìš© (ì—†ìœ¼ë©´ ê¸°ë³¸ ìƒ˜í”Œ)
if faq_path.exists():
    with open(faq_path, "r", encoding="utf-8") as f:
        faq_list = json.load(f)
else:
    # íŒŒì¼ì´ ì—†ì„ ë•Œ ê¸°ë³¸ ìƒ˜í”Œ ë°ì´í„°
    faq_list = [
        {"q": "E-ë§¤ë‰´ì–¼ì€ ì–´ë–»ê²Œ ì´ìš©í•˜ë‚˜ìš”?",
         "a": "ì™¼ìª½ ì‚¬ì´ë“œë°”ì—ì„œ **E-ë§¤ë‰´ì–¼**ì„ í´ë¦­í•˜ë©´ ëª©ì°¨ì™€ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."},
        {"q": "ëª¨ë°”ì¼ì—ì„œë„ ë³¼ ìˆ˜ ìˆë‚˜ìš”?",
         "a": "ë„¤, ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €ì—ì„œë„ í™”ë©´ í­ì— ë§ì¶° ìë™ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤."},
        {"q": "ì´ë¯¸ì§€ í™•ì¥ì ì œí•œì´ ìˆë‚˜ìš”?",
         "a": "jpg, jpeg, png ë“± ì¼ë°˜ì ì¸ ì´ë¯¸ì§€ í™•ì¥ìëŠ” ëª¨ë‘ ì§€ì›í•©ë‹ˆë‹¤."}
    ]

# --------------------------------------------------
# 2ï¸âƒ£ ê²€ìƒ‰ ì…ë ¥ì°½
# --------------------------------------------------
keyword = st.text_input(
    "ğŸ” ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”",
    placeholder="ì§ˆë¬¸ì´ë‚˜ ë‹µë³€ì˜ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ ë³´ì„¸ìš”."
)

# --------------------------------------------------
# 3ï¸âƒ£ ê²€ìƒ‰ í•„í„°ë§
# --------------------------------------------------
if keyword:
    results = [
        item for item in faq_list
        if keyword.lower() in item["q"].lower() or keyword.lower() in item["a"].lower()
    ]
else:
    results = faq_list

# --------------------------------------------------
# 4ï¸âƒ£ ê²€ìƒ‰ ê²°ê³¼ ì¶œë ¥
# --------------------------------------------------
if results:
    for item in results:
        # ì§ˆë¬¸ í´ë¦­ ì‹œ ë‹µë³€ì´ í¼ì³ì§€ëŠ” í˜•íƒœ
        with st.expander("â“ " + item["q"], expanded=False):
            st.markdown(item["a"])
else:
    st.warning("ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.")
